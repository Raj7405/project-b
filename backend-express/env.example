# Server Configuration
PORT=5000
NODE_ENV=development

# JWT Authentication Configuration
JWT_ACCESS_SECRET=your-super-secret-access-token-key-min-32-chars-change-in-production
JWT_REFRESH_SECRET=your-super-secret-refresh-token-key-min-32-chars-change-in-production
# Optional: Token expiry times (defaults: 24h for access, 30d for refresh)
# JWT_ACCESS_EXPIRY=24h
# JWT_REFRESH_EXPIRY=30d
# Alternative: Use single JWT_SECRET (will be used for both access and refresh if JWT_ACCESS_SECRET not set)
# JWT_SECRET=your-super-secret-key-min-32-chars-change-in-production

# Database Configuration (PostgreSQL)
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/crypto_mlm?schema=public"

# BSC Blockchain Configuration
# For BSC Testnet (recommended for testing)
BSC_RPC_URL=https://bsc-testnet.publicnode.com
# For BSC Mainnet (production)
# BSC_RPC_URL=https://bsc-dataseed1.binance.org
# For Local Development (Hardhat - requires Hardhat node running)
# BSC_RPC_URL=http://127.0.0.1:8545

CONTRACT_ADDRESS=0xYourContractAddress
TOKEN_ADDRESS=0xYourTokenAddress
START_BLOCK=0
CHAIN_ID=97  # 97 for BSC Testnet, 56 for BSC Mainnet, 31337 for localhost

# Backend Wallet (for signing transactions)
BACKEND_PRIVATE_KEY=your-backend-wallet-private-key-here
COMPANY_WALLET_ADDRESS=0xYourCompanyWalletAddress

# ThirdWeb Configuration (Required when using ThirdWeb)
# Get a free client ID from https://thirdweb.com to avoid rate limits
THIRDWEB_CLIENT_ID=your-thirdweb-client-id
# Optional: Secret key (alternative to client ID)
# THIRDWEB_SECRET_KEY=your-secret-key

# Blockchain Listener Configuration
# Set to false to disable automatic blockchain event processing
# WARNING: If disabled, events must be processed manually or via external service
ENABLE_BLOCKCHAIN_LISTENER=true

# Redis Configuration (for caching and queue management)
# REDIS_URL=redis://localhost:6379
# REDIS_URL=rediss://user:password@host:6380  # For TLS/SSL connection

# Event Polling Configuration
POLLING_INTERVAL=15000            # Check every 15 seconds

# Blockchain Listener Configuration (for free RPC providers)
# Very conservative settings to avoid rate limits
MAX_BLOCKS_PER_QUERY=50           # Blocks per chunk (50 is safe for free RPC)
DELAY_BETWEEN_CHUNKS=5000         # Delay in ms between chunks (5 seconds)
MAX_BLOCKS_BEHIND=1000            # Skip historical blocks if more than this behind
PROCESS_ONE_EVENT_TYPE_PER_CYCLE=true  # Process one event type per cycle (rotates)